from menu import Menu
from menu import MenuItem
from coffee_maker import CoffeeMaker
from money_machine import MoneyMachine


coffee_maker = CoffeeMaker()

full_menu = Menu()


espresso = MenuItem(name="espresso", water=50, milk=0, coffee=18, cost=1.5)
latte = MenuItem(name="latte", water=200, milk=150, coffee=24, cost=2.5),
capuccino = MenuItem(name="espresso", water=50, milk=0, coffee=18, cost=1.5),


money_machine = MoneyMachine()

machine_on = True

def turn_off():
    secret_word = "off"
    try:
        off = input("What is the secret word? ")
    except ValueError:
        print("The secret word is wrong")
    if off == secret_word:
        return True
    else:
        return False

monetary_value = 0
profit = 0


while machine_on:
    drink = input("What would you like? (espresso/latte/cappuccino)")
    report = input("Would you like to check current resources? type y for yes or n for no").lower()
    if report == "y":
        coffee_maker.report()
    drink_requested = full_menu.find_drink(drink)
    print(f" That will cost you ${drink_requested.cost} ")
    if coffee_maker.is_resource_sufficient(drink_requested):
        if money_machine.make_payment(drink_requested.cost):
            coffee_maker.make_coffee(drink_requested)
    if turn_off():
        machine_on = False


